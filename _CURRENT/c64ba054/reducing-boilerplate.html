<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>reducing-boilerplate</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
  </head>
  <body>
    <p>
      <a href="../index.html" class="navbar__brand"
        ><img
          src="../official/d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg"
          alt="Redux Logo"
          class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"
        /><strong>Redux</strong></a
      >
    </p>
    <p>
      <a
        href="../introduction/getting-started.html"
        class="navbar__item navbar__link"
        >Getting Started</a
      ><a
        href="../tutorials/essentials/part-1-overview-concepts.html"
        class="navbar__item navbar__link"
        >Tutorial</a
      ><a href="../api/api-reference.html" class="navbar__item navbar__link"
        >API</a
      ><a href="../faq.html" class="navbar__item navbar__link">FAQ</a
      ><a
        href="../style-guide/style-guide.html"
        class="navbar__item navbar__link"
        >Best Practices</a
      ><a
        href="../official/github.com/reduxjs/redux.html"
        class="navbar__item navbar__link"
        >GitHub</a
      ><a
        href="../introduction/getting-started.html#help-and-discussion"
        class="navbar__item navbar__link"
        >Need help?</a
      >
      <a href="../index.html" class="navbar__brand"
        ><img
          src="../official/d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg"
          alt="Redux Logo"
          class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"
        /><strong>Redux</strong></a
      >
    </p>
    <ul>
      <li>
        <a href="../introduction/getting-started.html" class="menu__link"
          >Getting Started</a
        >
      </li>
      <li>
        <a
          href="../tutorials/essentials/part-1-overview-concepts.html"
          class="menu__link"
          >Tutorial</a
        >
      </li>
      <li><a href="../api/api-reference.html" class="menu__link">API</a></li>
      <li><a href="../faq.html" class="menu__link">FAQ</a></li>
      <li>
        <a href="../style-guide/style-guide.html" class="menu__link"
          >Best Practices</a
        >
      </li>
      <li>
        <a href="../official/github.com/reduxjs/redux.html" class="menu__link"
          >GitHub</a
        >
      </li>
      <li>
        <p>
          <a
            href="../introduction/getting-started.html#help-and-discussion"
            class="menu__link"
            >Need help?</a
          >
        </p>
      </li>
      <li>
        <a href="#!" class="menu__link menu__link--sublist">Introduction</a>
        <ul>
          <li>
            <a href="../introduction/getting-started.html" class="menu__link"
              >Getting Started with Redux</a
            >
          </li>
          <li>
            <a href="../introduction/installation.html" class="menu__link"
              >Installation</a
            >
          </li>
          <li>
            <a href="../introduction/core-concepts.html" class="menu__link"
              >Core Concepts</a
            >
          </li>
          <li>
            <a href="../introduction/learning-resources.html" class="menu__link"
              >Learning Resources</a
            >
          </li>
          <li>
            <a href="../introduction/ecosystem.html" class="menu__link"
              >Ecosystem</a
            >
          </li>
          <li>
            <a href="../introduction/examples.html" class="menu__link"
              >Examples</a
            >
          </li>
        </ul>
      </li>
      <li>
        <p><a href="#!" class="menu__link menu__link--sublist">Tutorials</a></p>
        <ul>
          <li>
            <a href="../tutorials/index.html" class="menu__link"
              >Tutorials Index</a
            >
          </li>
          <li>
            <a href="../tutorials/quick-start.html" class="menu__link"
              >Quick Start</a
            >
          </li>
          <li>
            <a
              href="../tutorials/typescript-quick-start.html"
              class="menu__link"
              >TypeScript Quick Start</a
            >
          </li>
          <li>
            <p>
              <a href="#!" class="menu__link menu__link--sublist"
                >Redux Essentials</a
              >
            </p>
            <ul>
              <li>
                <a
                  href="../tutorials/essentials/part-1-overview-concepts.html"
                  class="menu__link"
                  >Redux Overview and Concepts</a
                >
              </li>
              <li>
                <a
                  href="../tutorials/essentials/part-2-app-structure.html"
                  class="menu__link"
                  >Redux App Structure</a
                >
              </li>
              <li>
                <a
                  href="../tutorials/essentials/part-3-data-flow.html"
                  class="menu__link"
                  >Basic Redux Data Flow</a
                >
              </li>
              <li>
                <a
                  href="../tutorials/essentials/part-4-using-data.html"
                  class="menu__link"
                  >Using Redux Data</a
                >
              </li>
              <li>
                <a
                  href="../tutorials/essentials/part-5-async-logic.html"
                  class="menu__link"
                  >Async Logic and Data Fetching</a
                >
              </li>
              <li>
                <p>
                  <a
                    href="../tutorials/essentials/part-6-performance-normalization.html"
                    class="menu__link"
                    >Performance and Normalizing Data</a
                  >
                </p>
              </li>
              <li>
                <a
                  href="../tutorials/fundamentals/part-1-overview.html"
                  class="menu__link"
                  >Redux Overview</a
                >
              </li>
              <li>
                <a
                  href="../tutorials/fundamentals/part-2-concepts-data-flow.html"
                  class="menu__link"
                  >Redux Concepts and Data Flow</a
                >
              </li>
              <li>
                <a
                  href="../tutorials/fundamentals/part-3-state-actions-reducers.html"
                  class="menu__link"
                  >State, Actions, and Reducers</a
                >
              </li>
              <li>
                <a
                  href="../tutorials/fundamentals/part-4-store.html"
                  class="menu__link"
                  >Store</a
                >
              </li>
              <li>
                <a
                  href="../tutorials/fundamentals/part-5-ui-react.html"
                  class="menu__link"
                  >UI and React</a
                >
              </li>
              <li>
                <a
                  href="../tutorials/fundamentals/part-6-async-logic.html"
                  class="menu__link"
                  >Async Logic and Data Fetching</a
                >
              </li>
              <li>
                <a
                  href="../tutorials/fundamentals/part-7-standard-patterns.html"
                  class="menu__link"
                  >Standard Redux Patterns</a
                >
              </li>
              <li>
                <p>
                  <a
                    href="../tutorials/fundamentals/part-8-modern-redux.html"
                    class="menu__link"
                    >Modern Redux with Redux Toolkit</a
                  >
                </p>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <a href="#!" class="menu__link menu__link--sublist menu__link--active"
          >Recipes</a
        >
        <ul>
          <li>
            <a href="recipe-index.html" class="menu__link">Recipes: Index</a>
          </li>
          <li>
            <a href="configuring-your-store.html" class="menu__link"
              >Configuring Your Store</a
            >
          </li>
          <li>
            <a href="usage-with-typescript.html" class="menu__link"
              >Usage With TypeScript</a
            >
          </li>
          <li>
            <a href="migrating-to-redux.html" class="menu__link"
              >Migrating to Redux</a
            >
          </li>
          <li>
            <a href="using-object-spread-operator.html" class="menu__link"
              >Using Object Spread Operator</a
            >
          </li>
          <li>
            <a
              href="reducing-boilerplate.html"
              class="menu__link menu__link--active active"
              >Reducing Boilerplate</a
            >
          </li>
          <li>
            <a href="server-rendering.html" class="menu__link"
              >Server Rendering</a
            >
          </li>
          <li>
            <a href="writing-tests.html" class="menu__link">Writing Tests</a>
          </li>
          <li>
            <a href="computing-derived-data.html" class="menu__link"
              >Computing Derived Data</a
            >
          </li>
          <li>
            <a href="implementing-undo-history.html" class="menu__link"
              >Implementing Undo History</a
            >
          </li>
          <li>
            <a href="isolating-redux-sub-apps.html" class="menu__link"
              >Isolating Redux Sub-Apps</a
            >
          </li>
          <li>
            <a href="code-splitting.html" class="menu__link">Code Splitting</a>
          </li>
          <li>
            <a href="troubleshooting.html" class="menu__link"
              >Troubleshooting</a
            >
          </li>
          <li>
            <a href="#!" class="menu__link menu__link--sublist"
              >Structuring Reducers</a
            >
            <ul>
              <li>
                <a
                  href="structuring-reducers/structuring-reducers.html"
                  class="menu__link"
                  >Structuring Reducers</a
                >
              </li>
              <li>
                <a
                  href="structuring-reducers/prerequisite-concepts.html"
                  class="menu__link"
                  >Prerequisite Concepts</a
                >
              </li>
              <li>
                <a
                  href="structuring-reducers/basic-reducer-structure.html"
                  class="menu__link"
                  >Basic Reducer Structure</a
                >
              </li>
              <li>
                <a
                  href="structuring-reducers/splitting-reducer-logic.html"
                  class="menu__link"
                  >Splitting Reducer Logic</a
                >
              </li>
              <li>
                <a
                  href="structuring-reducers/refactoring-reducer-example.html"
                  class="menu__link"
                  >Refactoring Reducers Example</a
                >
              </li>
              <li>
                <a
                  href="structuring-reducers/using-combinereducers.html"
                  class="menu__link"
                  >Using combineReducers</a
                >
              </li>
              <li>
                <a
                  href="structuring-reducers/beyond-combinereducers.html"
                  class="menu__link"
                  >Beyond combineReducers</a
                >
              </li>
              <li>
                <a
                  href="structuring-reducers/normalizing-state-shape.html"
                  class="menu__link"
                  >Normalizing State Shape</a
                >
              </li>
              <li>
                <a
                  href="structuring-reducers/updating-normalized-data.html"
                  class="menu__link"
                  >Updating Normalized Data</a
                >
              </li>
              <li>
                <a
                  href="structuring-reducers/reusing-reducer-logic.html"
                  class="menu__link"
                  >Reusing Reducer Logic</a
                >
              </li>
              <li>
                <a
                  href="structuring-reducers/immutable-update-patterns.html"
                  class="menu__link"
                  >Immutable Update Patterns</a
                >
              </li>
              <li>
                <a
                  href="structuring-reducers/initializing-state.html"
                  class="menu__link"
                  >Initializing State</a
                >
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <a href="#!" class="menu__link menu__link--sublist"
          >Understanding Redux</a
        >
        <ul>
          <li>
            <a href="#!" class="menu__link menu__link--sublist"
              >Thinking in Redux</a
            >
            <ul>
              <li>
                <a
                  href="../understanding/thinking-in-redux/motivation.html"
                  class="menu__link"
                  >Motivation</a
                >
              </li>
              <li>
                <a
                  href="../understanding/thinking-in-redux/three-principles.html"
                  class="menu__link"
                  >Three Principles</a
                >
              </li>
              <li>
                <a
                  href="../understanding/thinking-in-redux/glossary.html"
                  class="menu__link"
                  >Glossary</a
                >
              </li>
            </ul>
          </li>
          <li>
            <a href="#!" class="menu__link menu__link--sublist"
              >History and Design</a
            >
            <ul>
              <li>
                <a
                  href="../understanding/history-and-design/prior-art.html"
                  class="menu__link"
                  >Prior Art</a
                >
              </li>
              <li>
                <a
                  href="../understanding/history-and-design/middleware.html"
                  class="menu__link"
                  >Middleware</a
                >
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <a href="#!" class="menu__link menu__link--sublist">FAQ</a>
        <ul>
          <li><a href="../faq.html" class="menu__link">FAQ Index</a></li>
          <li><a href="../faq/general.html" class="menu__link">General</a></li>
          <li>
            <a href="../faq/reducers.html" class="menu__link">Reducers</a>
          </li>
          <li>
            <a href="../faq/organizing-state.html" class="menu__link"
              >Organizing State</a
            >
          </li>
          <li>
            <a href="../faq/store-setup.html" class="menu__link">Store Setup</a>
          </li>
          <li><a href="../faq/actions.html" class="menu__link">Actions</a></li>
          <li>
            <a href="../faq/immutable-data.html" class="menu__link"
              >Immutable Data</a
            >
          </li>
          <li>
            <a href="../faq/code-structure.html" class="menu__link"
              >Code Structure</a
            >
          </li>
          <li>
            <a href="../faq/performance.html" class="menu__link">Performance</a>
          </li>
          <li>
            <a href="../faq/design-decisions.html" class="menu__link"
              >Design Decisions</a
            >
          </li>
          <li>
            <a href="../faq/react-redux.html" class="menu__link">React Redux</a>
          </li>
          <li>
            <a href="../faq/miscellaneous.html" class="menu__link"
              >Miscellaneous</a
            >
          </li>
        </ul>
      </li>
      <li>
        <a href="#!" class="menu__link menu__link--sublist">Style Guide</a>
        <ul>
          <li>
            <a href="../style-guide/style-guide.html" class="menu__link"
              >Style Guide: Best Practices</a
            >
          </li>
        </ul>
      </li>
      <li>
        <a href="#!" class="menu__link menu__link--sublist">API Reference</a>
        <ul>
          <li>
            <a href="../api/api-reference.html" class="menu__link"
              >API Reference</a
            >
          </li>
          <li>
            <a href="../api/createstore.html" class="menu__link">createStore</a>
          </li>
          <li><a href="../api/store.html" class="menu__link">Store</a></li>
          <li>
            <a href="../api/combinereducers.html" class="menu__link"
              >combineReducers</a
            >
          </li>
          <li>
            <a href="../api/applymiddleware.html" class="menu__link"
              >applyMiddleware</a
            >
          </li>
          <li>
            <a href="../api/bindactioncreators.html" class="menu__link"
              >bindActionCreators</a
            >
          </li>
          <li><a href="../api/compose.html" class="menu__link">compose</a></li>
        </ul>
      </li>
      <li>
        <a href="#!" class="menu__link menu__link--sublist">Redux Toolkit</a>
        <ul>
          <li>
            <a href="../redux-toolkit/overview.html" class="menu__link"
              >Redux Toolkit: Overview</a
            >
          </li>
        </ul>
      </li>
    </ul>
    <h1 id="reducing-boilerplate">
      <span id="reducing-boilerplate" class="anchor enhancedAnchor_2LWZ"></span
      >Reducing Boilerplate<a
        href="#reducing-boilerplate"
        class="hash-link"
        title="Direct link to heading"
        >#</a
      >
    </h1>
    <p>
      Redux is in part
      <a href="../understanding/history-and-design/prior-art.html"
        >inspired by Flux</a
      >, and the most common complaint about Flux is how it makes you write a
      lot of boilerplate. In this recipe, we will consider how Redux lets us
      choose how verbose we’d like our code to be, depending on personal style,
      team preferences, longer term maintainability, and so on.
    </p>
    <h2 id="actions">
      <span id="actions" class="anchor enhancedAnchor_2LWZ"></span>Actions<a
        href="#actions"
        class="hash-link"
        title="Direct link to heading"
        >#</a
      >
    </h2>
    <p>
      Actions are plain objects describing what happened in the app, and serve
      as the sole way to describe an intention to mutate the data. It’s
      important that
      <strong
        >actions being objects you have to dispatch is not boilerplate, but one
        of the
        <a href="../understanding/thinking-in-redux/three-principles.html"
          >fundamental design choices</a
        >
        of Redux</strong
      >.
    </p>
    <p>
      There are frameworks claiming to be similar to Flux, but without a concept
      of action objects. In terms of being predictable, this is a step backwards
      from Flux or Redux. If there are no serializable plain object actions, it
      is impossible to record and replay user sessions, or to implement
      <a href="../../www.youtube.com/watch5d01.html?v=xsSnOQynTHs"
        >hot reloading with time travel</a
      >. If you’d rather modify data directly, you don’t need Redux.
    </p>
    <p>Actions look like this:</p>
    <p>
      <span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"> type</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘ADD_TODO’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> text</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘Use Redux’</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"> type</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘REMOVE_TODO’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> id</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token number" style="color: #ae81ff">42</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"> type</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘LOAD_ARTICLE’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> response</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"> </span
      ><span class="token spread operator" style="color: #f8f8f2">…</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span>It is a
      common convention that actions have a constant type that helps reducers
      (or Stores in Flux) identify them. We recommend that you use strings and
      not
      <a
        href="../../developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol.html"
        >Symbols</a
      >
      for action types, because strings are serializable, and by using Symbols
      you make recording and replaying harder than it needs to be.
    </p>
    <p>
      In Flux, it is traditionally thought that you would define every action
      type as a string constant:
    </p>
    <p>
      <span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> </span
      ><span class="token constant" style="color: #f92672">ADD_TODO</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘ADD_TODO’</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> </span
      ><span class="token constant" style="color: #f92672">REMOVE_TODO</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘REMOVE_TODO’</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> </span
      ><span class="token constant" style="color: #f92672">LOAD_ARTICLE</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘LOAD_ARTICLE’</span
      >Why is this beneficial?
      <strong
        >It is often claimed that constants are unnecessary, and for small
        projects, this might be correct.</strong
      >
      For larger projects, there are some benefits to defining action types as
      constants:
    </p>
    <ul>
      <li>
        It helps keep the naming consistent because all action types are
        gathered in a single place.
      </li>
      <li>
        Sometimes you want to see all existing actions before working on a new
        feature. It may be that the action you need was already added by
        somebody on the team, but you didn’t know.
      </li>
      <li>
        The list of action types that were added, removed, and changed in a Pull
        Request helps everyone on the team keep track of scope and
        implementation of new features.
      </li>
      <li>
        If you make a typo when importing an action constant, you will get
        <code>undefined</code>. Redux will immediately throw when dispatching
        such an action, and you’ll find the mistake sooner.
      </li>
    </ul>
    <p>
      It is up to you to choose the conventions for your project. You may start
      by using inline strings, and later transition to constants, and maybe
      later group them into a single file. Redux does not have any opinion here,
      so use your best judgment.
    </p>
    <h2 id="action-creators">
      <span id="action-creators" class="anchor enhancedAnchor_2LWZ"></span
      >Action Creators<a
        href="#action-creators"
        class="hash-link"
        title="Direct link to heading"
        >#</a
      >
    </h2>
    <p>
      It is another common convention that, instead of creating action objects
      inline in the places where you dispatch the actions, you would create
      functions generating them.
    </p>
    <p>
      For example, instead of calling <code>dispatch</code> with an object
      literal:
    </p>
    <p>
      <span class="token comment" style="color: #c6cad2"
        >// somewhere in an event handler</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token function" style="color: #e6d874">dispatch</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> type</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘ADD_TODO’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> text</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘Use Redux’</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span>You might
      write an action creator in a separate file, and import it into your
      component:
    </p>
    <h4 id="actioncreators.js">
      <span id="actioncreatorsjs" class="anchor enhancedAnchor_2LWZ"></span
      ><code>actionCreators.js</code
      ><a
        href="#actioncreatorsjs"
        class="hash-link"
        title="Direct link to heading"
        >#</a
      >
    </h4>
    <p>
      <span class="token keyword module" style="color: #f92672">export</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">addTodo</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">text</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> type</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘ADD_TODO’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain"> text</span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span>####
      <span id="addtodojs" class="anchor enhancedAnchor_2LWZ"></span
      ><code>AddTodo.js</code
      ><a href="#addtodojs" class="hash-link" title="Direct link to heading"
        >#</a
      >
    </p>
    <p>
      <span class="token keyword module" style="color: #f92672">import</span
      ><span class="token plain"> </span
      ><span class="token imports punctuation" style="color: #f8f8f2">{</span
      ><span> addTodo </span
      ><span class="token imports punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"> </span
      ><span class="token keyword module" style="color: #f92672">from</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e"
        >‘./actionCreators’</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"></span
      ><span class="token comment" style="color: #c6cad2"
        >// somewhere in an event handler</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token function" style="color: #e6d874">dispatch</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token function" style="color: #e6d874">addTodo</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token string" style="color: #a6e22e">‘Use Redux’</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span>Action
      creators have often been criticized as boilerplate. Well, you don’t have
      to write them!
      <strong
        >You can use object literals if you feel this better suits your
        project.</strong
      >
      There are, however, some benefits for writing action creators you should
      know about.
    </p>
    <p>
      Let’s say a designer comes back to us after reviewing our prototype, and
      tells us that we need to allow three todos maximum. We can enforce this by
      rewriting our action creator to a callback form with
      <a href="../../github.com/reduxjs/redux-thunk.html">redux-thunk</a>
      middleware and adding an early exit:
    </p>
    <p>
      <span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874"
        >addTodoWithoutCheck</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">text</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> type</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘ADD_TODO’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain"> text</span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword module" style="color: #f92672">export</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">addTodo</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">text</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token comment" style="color: #c6cad2"
        >// This form is allowed by Redux Thunk middleware</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token comment" style="color: #c6cad2"
        >// described below in “Async Action Creators” section.</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">dispatch</span
      ><span class="token parameter punctuation" style="color: #f8f8f2">,</span
      ><span class="token parameter"> getState</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672">if</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token function" style="color: #e6d874">getState</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">todos</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">length</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">===</span
      ><span class="token plain"> </span
      ><span class="token number" style="color: #ae81ff">3</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token comment" style="color: #c6cad2">// Exit early</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">dispatch</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token function" style="color: #e6d874"
        >addTodoWithoutCheck</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain">text</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span>We just
      modified how the <code>addTodo</code> action creator behaves, completely
      invisible to the calling code.
      <strong
        >We don’t have to worry about looking at each place where todos are
        being added, to make sure they have this check.</strong
      >
      Action creators let you decouple additional logic around dispatching an
      action, from the actual components emitting those actions. It’s very handy
      when the application is under heavy development, and the requirements
      change often.
    </p>
    <h3 id="generating-action-creators">
      <span
        id="generating-action-creators"
        class="anchor enhancedAnchor_2LWZ"
      ></span
      >Generating Action Creators<a
        href="#generating-action-creators"
        class="hash-link"
        title="Direct link to heading"
        >#</a
      >
    </h3>
    <p>
      Some frameworks like
      <a href="../../github.com/acdlite/flummox.html">Flummox</a> generate
      action type constants automatically from the action creator function
      definitions. The idea is that you don’t need to both define
      <code>ADD_TODO</code> constant and <code>addTodo()</code> action creator.
      Under the hood, such solutions still generate action type constants, but
      they’re created implicitly so it’s a level of indirection and can cause
      confusion. We recommend creating your action type constants explicitly.
    </p>
    <p>
      Writing simple action creators can be tiresome and often ends up
      generating redundant boilerplate code:
    </p>
    <p>
      <span class="token keyword module" style="color: #f92672">export</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">addTodo</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">text</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> type</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘ADD_TODO’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain"> text</span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword module" style="color: #f92672">export</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">editTodo</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">id</span
      ><span class="token parameter punctuation" style="color: #f8f8f2">,</span
      ><span class="token parameter"> text</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> type</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘EDIT_TODO’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> id</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain"> text</span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword module" style="color: #f92672">export</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">removeTodo</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">id</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> type</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘REMOVE_TODO’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain"> id</span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span>You can
      always write a function that generates an action creator:
    </p>
    <p>
      <span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874"
        >makeActionCreator</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">type</span
      ><span class="token parameter punctuation" style="color: #f8f8f2">,</span
      ><span class="token parameter"> </span
      ><span class="token parameter operator" style="color: #f8f8f2">…</span
      ><span class="token parameter">argNames</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter operator" style="color: #f8f8f2">…</span
      ><span class="token parameter">args</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> action </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"> type </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> argNames</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">forEach</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">arg</span
      ><span class="token parameter punctuation" style="color: #f8f8f2">,</span
      ><span class="token parameter"> index</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> action</span
      ><span class="token punctuation" style="color: #f8f8f2">[</span
      ><span class="token plain">argNames</span
      ><span class="token punctuation" style="color: #f8f8f2">[</span
      ><span class="token plain">index</span
      ><span class="token punctuation" style="color: #f8f8f2">]</span
      ><span class="token punctuation" style="color: #f8f8f2">]</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> args</span
      ><span class="token punctuation" style="color: #f8f8f2">[</span
      ><span class="token plain">index</span
      ><span class="token punctuation" style="color: #f8f8f2">]</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> action</span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> </span
      ><span class="token constant" style="color: #f92672">ADD_TODO</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘ADD_TODO’</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> </span
      ><span class="token constant" style="color: #f92672">EDIT_TODO</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘EDIT_TODO’</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> </span
      ><span class="token constant" style="color: #f92672">REMOVE_TODO</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘REMOVE_TODO’</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword module" style="color: #f92672">export</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> addTodo </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874"
        >makeActionCreator</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token constant" style="color: #f92672">ADD_TODO</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘text’</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword module" style="color: #f92672">export</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> editTodo </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874"
        >makeActionCreator</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token constant" style="color: #f92672">EDIT_TODO</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘id’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘text’</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword module" style="color: #f92672">export</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> removeTodo </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874"
        >makeActionCreator</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token constant" style="color: #f92672">REMOVE_TODO</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘id’</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span>There are
      also utility libraries to aid in generating action creators, such as
      <a href="../../github.com/pauldijou/redux-act.html">redux-act</a> and
      <a href="../../github.com/redux-utilities/redux-actions.html"
        >redux-actions</a
      >. These can help reduce boilerplate code and enforce adherence to
      standards such as
      <a href="../../github.com/redux-utilities/flux-standard-action.html"
        >Flux Standard Action (FSA)</a
      >.
    </p>
    <h2 id="async-action-creators">
      <span id="async-action-creators" class="anchor enhancedAnchor_2LWZ"></span
      >Async Action Creators<a
        href="#async-action-creators"
        class="hash-link"
        title="Direct link to heading"
        >#</a
      >
    </h2>
    <p>
      <a href="../understanding/thinking-in-redux/glossary.html#middleware"
        >Middleware</a
      >
      lets you inject custom logic that interprets every action object before it
      is dispatched. Async actions are the most common use case for middleware.
    </p>
    <p>
      Without any middleware,
      <a href="../api/store.html#dispatchaction"><code>dispatch</code></a> only
      accepts a plain object, so we have to perform AJAX calls inside our
      components:
    </p>
    <h4 id="actioncreators.js-1">
      <span id="actioncreatorsjs-1" class="anchor enhancedAnchor_2LWZ"></span
      ><code>actionCreators.js</code
      ><a
        href="#actioncreatorsjs-1"
        class="hash-link"
        title="Direct link to heading"
        >#</a
      >
    </h4>
    <p>
      <span class="token keyword module" style="color: #f92672">export</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874"
        >loadPostsSuccess</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">userId</span
      ><span class="token parameter punctuation" style="color: #f8f8f2">,</span
      ><span class="token parameter"> response</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> type</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e"
        >‘LOAD_POSTS_SUCCESS’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> userId</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain"> response</span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword module" style="color: #f92672">export</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874"
        >loadPostsFailure</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">userId</span
      ><span class="token parameter punctuation" style="color: #f8f8f2">,</span
      ><span class="token parameter"> error</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> type</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e"
        >‘LOAD_POSTS_FAILURE’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> userId</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain"> error</span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword module" style="color: #f92672">export</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874"
        >loadPostsRequest</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">userId</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> type</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e"
        >‘LOAD_POSTS_REQUEST’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain"> userId</span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span>####
      <span id="userinfojs" class="anchor enhancedAnchor_2LWZ"></span
      ><code>UserInfo.js</code
      ><a href="#userinfojs" class="hash-link" title="Direct link to heading"
        >#</a
      >
    </p>
    <p>
      <span class="token keyword module" style="color: #f92672">import</span
      ><span class="token plain"> </span
      ><span class="token imports punctuation" style="color: #f8f8f2">{</span
      ><span> </span
      ><span class="token imports maybe-class-name">Component</span
      ><span> </span
      ><span class="token imports punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"> </span
      ><span class="token keyword module" style="color: #f92672">from</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘react’</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword module" style="color: #f92672">import</span
      ><span class="token plain"> </span
      ><span class="token imports punctuation" style="color: #f8f8f2">{</span
      ><span> connect </span
      ><span class="token imports punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"> </span
      ><span class="token keyword module" style="color: #f92672">from</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘react-redux’</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword module" style="color: #f92672">import</span
      ><span class="token plain"> </span
      ><span class="token imports punctuation" style="color: #f8f8f2">{</span
      ><span></span>
    </p>
    <p>
      <span> loadPostsRequest</span
      ><span class="token imports punctuation" style="color: #f8f8f2">,</span
      ><span></span>
    </p>
    <p>
      <span> loadPostsSuccess</span
      ><span class="token imports punctuation" style="color: #f8f8f2">,</span
      ><span></span>
    </p>
    <p><span> loadPostsFailure</span></p>
    <p>
      <span></span
      ><span class="token imports punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"> </span
      ><span class="token keyword module" style="color: #f92672">from</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e"
        >‘./actionCreators’</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword" style="color: #f92672">class</span
      ><span class="token plain"> </span
      ><span class="token class-name">Posts</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">extends</span
      ><span class="token plain"> </span
      ><span class="token class-name">Component</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">loadData</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">userId</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token comment" style="color: #c6cad2"
        >// Injected into props by React Redux `connect()` call:</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"> dispatch</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> posts </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">this</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">props</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672">if</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain">posts</span
      ><span class="token punctuation" style="color: #f8f8f2">[</span
      ><span class="token plain">userId</span
      ><span class="token punctuation" style="color: #f8f8f2">]</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token comment" style="color: #c6cad2"
        >// There is cached data! Don’t do anything.</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token comment" style="color: #c6cad2"
        >// Reducer can react to this action by setting</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token comment" style="color: #c6cad2"
        >// `isFetching` and thus letting us show a spinner.</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">dispatch</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token function" style="color: #e6d874"
        >loadPostsRequest</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain">userId</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token comment" style="color: #c6cad2"
        >// Reducer can react to these actions by filling the `users`.</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">fetch</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span
        class="token template-string template-punctuation string"
        style="color: #a6e22e"
        >`</span
      ><span class="token template-string string" style="color: #a6e22e"
        >http://myapi.com/users/</span
      ><span
        class="
          token
          template-string
          interpolation interpolation-punctuation
          punctuation
        "
        style="color: #f8f8f2"
        >${</span
      ><span class="token template-string interpolation">userId</span
      ><span
        class="
          token
          template-string
          interpolation interpolation-punctuation
          punctuation
        "
        style="color: #f8f8f2"
        >}</span
      ><span class="token template-string string" style="color: #a6e22e"
        >/posts</span
      ><span
        class="token template-string template-punctuation string"
        style="color: #a6e22e"
        >`</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">then</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token parameter">response</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">dispatch</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token function" style="color: #e6d874"
        >loadPostsSuccess</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain">userId</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> response</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token parameter">error</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">dispatch</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token function" style="color: #e6d874"
        >loadPostsFailure</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain">userId</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> error</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token function" style="color: #e6d874"
        >componentDidMount</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">this</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">loadData</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token keyword" style="color: #f92672">this</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">props</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">userId</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token function" style="color: #e6d874"
        >componentDidUpdate</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">prevProps</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672">if</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain">prevProps</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">userId</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">!==</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">this</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">props</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">userId</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">this</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">loadData</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token keyword" style="color: #f92672">this</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">props</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">userId</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">render</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672">if</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token keyword" style="color: #f92672">this</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">props</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">isFetching</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">&lt;</span
      ><span class="token plain">p</span
      ><span class="token operator" style="color: #f8f8f2">&gt;</span
      ><span class="token maybe-class-name">Loading</span
      ><span class="token spread operator" style="color: #f8f8f2">…</span
      ><span class="token operator" style="color: #f8f8f2">&lt;</span
      ><span class="token operator" style="color: #f8f8f2">/</span
      ><span class="token plain">p</span
      ><span class="token operator" style="color: #f8f8f2">&gt;</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> posts </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">this</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">props</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">posts</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">map</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">post</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">&lt;</span
      ><span class="token maybe-class-name">Post</span
      ><span class="token plain"> post</span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain">post</span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"> key</span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain">post</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">id</span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">/</span
      ><span class="token operator" style="color: #f8f8f2">&gt;</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">&lt;</span
      ><span class="token plain">div</span
      ><span class="token operator" style="color: #f8f8f2">&gt;</span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain">posts</span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token operator" style="color: #f8f8f2">&lt;</span
      ><span class="token operator" style="color: #f8f8f2">/</span
      ><span class="token plain">div</span
      ><span class="token operator" style="color: #f8f8f2">&gt;</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword module" style="color: #f92672">export</span
      ><span class="token plain"> </span
      ><span class="token keyword module" style="color: #f92672">default</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">connect</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">state</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> posts</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> state</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">posts</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> isFetching</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> state</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">isFetching</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token maybe-class-name">Posts</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span>However,
      this quickly gets repetitive because different components request data
      from the same API endpoints. Moreover, we want to reuse some of this logic
      (e.g., early exit when there is cached data available) from many
      components.
    </p>
    <p>
      <strong
        >Middleware lets us write more expressive, potentially async action
        creators.</strong
      >
      It lets us dispatch something other than plain objects, and interprets the
      values. For example, middleware can “catch” dispatched Promises and turn
      them into a pair of request and success/failure actions.
    </p>
    <p>
      The simplest example of middleware is
      <a href="../../github.com/reduxjs/redux-thunk.html">redux-thunk</a>.
      <strong
        >“Thunk” middleware lets you write action creators as “thunks”, that is,
        functions returning functions.</strong
      >
      This inverts the control: you will get <code>dispatch</code> as an
      argument, so you can write an action creator that dispatches many times.
    </p>
    <blockquote>
      <h5 id="note">
        <span id="note" class="anchor enhancedAnchor_2LWZ"></span>Note<a
          href="#note"
          class="hash-link"
          title="Direct link to heading"
          >#</a
        >
      </h5>
      <p>
        Thunk middleware is just one example of middleware. Middleware is not
        about “letting you dispatch functions”. It’s about letting you dispatch
        anything that the particular middleware you use knows how to handle.
        Thunk middleware adds a specific behavior when you dispatch functions,
        but it really depends on the middleware you use.
      </p>
    </blockquote>
    <p>
      Consider the code above rewritten with
      <a href="../../github.com/reduxjs/redux-thunk.html">redux-thunk</a>:
    </p>
    <h4 id="actioncreators.js-2">
      <span id="actioncreatorsjs-2" class="anchor enhancedAnchor_2LWZ"></span
      ><code>actionCreators.js</code
      ><a
        href="#actioncreatorsjs-2"
        class="hash-link"
        title="Direct link to heading"
        >#</a
      >
    </h4>
    <p>
      <span class="token keyword module" style="color: #f92672">export</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">loadPosts</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">userId</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token comment" style="color: #c6cad2"
        >// Interpreted by the thunk middleware:</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">dispatch</span
      ><span class="token parameter punctuation" style="color: #f8f8f2">,</span
      ><span class="token parameter"> getState</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"> posts </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">getState</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672">if</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain">posts</span
      ><span class="token punctuation" style="color: #f8f8f2">[</span
      ><span class="token plain">userId</span
      ><span class="token punctuation" style="color: #f8f8f2">]</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token comment" style="color: #c6cad2"
        >// There is cached data! Don’t do anything.</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">dispatch</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> type</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e"
        >‘LOAD_POSTS_REQUEST’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain"> userId</span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token comment" style="color: #c6cad2"
        >// Dispatch vanilla actions asynchronously</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">fetch</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span
        class="token template-string template-punctuation string"
        style="color: #a6e22e"
        >`</span
      ><span class="token template-string string" style="color: #a6e22e"
        >http://myapi.com/users/</span
      ><span
        class="
          token
          template-string
          interpolation interpolation-punctuation
          punctuation
        "
        style="color: #f8f8f2"
        >${</span
      ><span class="token template-string interpolation">userId</span
      ><span
        class="
          token
          template-string
          interpolation interpolation-punctuation
          punctuation
        "
        style="color: #f8f8f2"
        >}</span
      ><span class="token template-string string" style="color: #a6e22e"
        >/posts</span
      ><span
        class="token template-string template-punctuation string"
        style="color: #a6e22e"
        >`</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">then</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token parameter">response</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">dispatch</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> type</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e"
        >‘LOAD_POSTS_SUCCESS’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> userId</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain"> response</span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token parameter">error</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">dispatch</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> type</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e"
        >‘LOAD_POSTS_FAILURE’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> userId</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain"> error</span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span>####
      <span id="userinfojs-1" class="anchor enhancedAnchor_2LWZ"></span
      ><code>UserInfo.js</code
      ><a href="#userinfojs-1" class="hash-link" title="Direct link to heading"
        >#</a
      >
    </p>
    <p>
      <span class="token keyword module" style="color: #f92672">import</span
      ><span class="token plain"> </span
      ><span class="token imports punctuation" style="color: #f8f8f2">{</span
      ><span> </span
      ><span class="token imports maybe-class-name">Component</span
      ><span> </span
      ><span class="token imports punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"> </span
      ><span class="token keyword module" style="color: #f92672">from</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘react’</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword module" style="color: #f92672">import</span
      ><span class="token plain"> </span
      ><span class="token imports punctuation" style="color: #f8f8f2">{</span
      ><span> connect </span
      ><span class="token imports punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"> </span
      ><span class="token keyword module" style="color: #f92672">from</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘react-redux’</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword module" style="color: #f92672">import</span
      ><span class="token plain"> </span
      ><span class="token imports punctuation" style="color: #f8f8f2">{</span
      ><span> loadPosts </span
      ><span class="token imports punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"> </span
      ><span class="token keyword module" style="color: #f92672">from</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e"
        >‘./actionCreators’</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword" style="color: #f92672">class</span
      ><span class="token plain"> </span
      ><span class="token class-name">Posts</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">extends</span
      ><span class="token plain"> </span
      ><span class="token class-name">Component</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token function" style="color: #e6d874"
        >componentDidMount</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">this</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">props</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">dispatch</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token function" style="color: #e6d874">loadPosts</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token keyword" style="color: #f92672">this</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">props</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">userId</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token function" style="color: #e6d874"
        >componentDidUpdate</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">prevProps</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672">if</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain">prevProps</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">userId</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">!==</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">this</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">props</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">userId</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">this</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">props</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">dispatch</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token function" style="color: #e6d874">loadPosts</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token keyword" style="color: #f92672">this</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">props</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">userId</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">render</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672">if</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token keyword" style="color: #f92672">this</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">props</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">isFetching</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">&lt;</span
      ><span class="token plain">p</span
      ><span class="token operator" style="color: #f8f8f2">&gt;</span
      ><span class="token maybe-class-name">Loading</span
      ><span class="token spread operator" style="color: #f8f8f2">…</span
      ><span class="token operator" style="color: #f8f8f2">&lt;</span
      ><span class="token operator" style="color: #f8f8f2">/</span
      ><span class="token plain">p</span
      ><span class="token operator" style="color: #f8f8f2">&gt;</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> posts </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">this</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">props</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">posts</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">map</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">post</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">&lt;</span
      ><span class="token maybe-class-name">Post</span
      ><span class="token plain"> post</span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain">post</span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"> key</span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain">post</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">id</span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">/</span
      ><span class="token operator" style="color: #f8f8f2">&gt;</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">&lt;</span
      ><span class="token plain">div</span
      ><span class="token operator" style="color: #f8f8f2">&gt;</span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain">posts</span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token operator" style="color: #f8f8f2">&lt;</span
      ><span class="token operator" style="color: #f8f8f2">/</span
      ><span class="token plain">div</span
      ><span class="token operator" style="color: #f8f8f2">&gt;</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword module" style="color: #f92672">export</span
      ><span class="token plain"> </span
      ><span class="token keyword module" style="color: #f92672">default</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">connect</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">state</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> posts</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> state</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">posts</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> isFetching</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> state</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">isFetching</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token maybe-class-name">Posts</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span>This is
      much less typing! If you’d like, you can still have “vanilla” action
      creators like <code>loadPostsSuccess</code> which you’d use from a
      container <code>loadPosts</code> action creator.
    </p>
    <p>
      <strong>Finally, you can write your own middleware.</strong> Let’s say you
      want to generalize the pattern above and describe your async action
      creators like this instead:
    </p>
    <p>
      <span class="token keyword module" style="color: #f92672">export</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">loadPosts</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">userId</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token comment" style="color: #c6cad2"
        >// Types of actions to emit before and after</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> types</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">[</span
      ><span class="token string" style="color: #a6e22e"
        >‘LOAD_POSTS_REQUEST’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e"
        >‘LOAD_POSTS_SUCCESS’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e"
        >‘LOAD_POSTS_FAILURE’</span
      ><span class="token punctuation" style="color: #f8f8f2">]</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token comment" style="color: #c6cad2"
        >// Check the cache (optional):</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token function-variable function" style="color: #e6d874"
        >shouldCallAPI</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token parameter">state</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">!</span
      ><span class="token plain">state</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">posts</span
      ><span class="token punctuation" style="color: #f8f8f2">[</span
      ><span class="token plain">userId</span
      ><span class="token punctuation" style="color: #f8f8f2">]</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token comment" style="color: #c6cad2"
        >// Perform the fetching:</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token function-variable function" style="color: #e6d874"
        >callAPI</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">fetch</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span
        class="token template-string template-punctuation string"
        style="color: #a6e22e"
        >`</span
      ><span class="token template-string string" style="color: #a6e22e"
        >http://myapi.com/users/</span
      ><span
        class="
          token
          template-string
          interpolation interpolation-punctuation
          punctuation
        "
        style="color: #f8f8f2"
        >${</span
      ><span class="token template-string interpolation">userId</span
      ><span
        class="
          token
          template-string
          interpolation interpolation-punctuation
          punctuation
        "
        style="color: #f8f8f2"
        >}</span
      ><span class="token template-string string" style="color: #a6e22e"
        >/posts</span
      ><span
        class="token template-string template-punctuation string"
        style="color: #a6e22e"
        >`</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token comment" style="color: #c6cad2"
        >// Arguments to inject in begin/end actions</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> payload</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"> userId </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span>The
      middleware that interprets such actions could look like this:
    </p>
    <p>
      <span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874"
        >callAPIMiddleware</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter punctuation" style="color: #f8f8f2">{</span
      ><span class="token parameter"> dispatch</span
      ><span class="token parameter punctuation" style="color: #f8f8f2">,</span
      ><span class="token parameter"> getState </span
      ><span class="token parameter punctuation" style="color: #f8f8f2">}</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token parameter">next</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"> </span
      ><span class="token parameter">action</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"> types</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> callAPI</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> </span
      ><span class="token function-variable function" style="color: #e6d874"
        >shouldCallAPI</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"> </span
      ><span class="token boolean" style="color: #ae81ff">true</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> payload </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> action</span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672">if</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token operator" style="color: #f8f8f2">!</span
      ><span class="token plain">types</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token comment" style="color: #c6cad2"
        >// Normal action: pass it on</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">next</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain">action</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672">if</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">!</span
      ><span class="token known-class-name class-name">Array</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">isArray</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain">types</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">||</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> types</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">length</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">!==</span
      ><span class="token plain"> </span
      ><span class="token number" style="color: #ae81ff">3</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">||</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">!</span
      ><span class="token plain">types</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">every</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">type</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">typeof</span
      ><span class="token plain"> type </span
      ><span class="token operator" style="color: #f8f8f2">===</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘string’</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >throw</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">new</span
      ><span class="token plain"> </span
      ><span class="token class-name">Error</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token string" style="color: #a6e22e"
        >‘Expected an array of three string types.’</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672">if</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token keyword" style="color: #f92672">typeof</span
      ><span class="token plain"> callAPI </span
      ><span class="token operator" style="color: #f8f8f2">!==</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘function’</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >throw</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">new</span
      ><span class="token plain"> </span
      ><span class="token class-name">Error</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token string" style="color: #a6e22e"
        >‘Expected callAPI to be a function.’</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672">if</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token operator" style="color: #f8f8f2">!</span
      ><span class="token function" style="color: #e6d874">shouldCallAPI</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token function" style="color: #e6d874">getState</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">[</span
      ><span class="token plain">requestType</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> successType</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> failureType</span
      ><span class="token punctuation" style="color: #f8f8f2">]</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> types</span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">dispatch</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token known-class-name class-name">Object</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">assign</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> payload</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> type</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> requestType</span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">callAPI</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">then</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token parameter">response</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">dispatch</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token known-class-name class-name">Object</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">assign</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> payload</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> response</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> type</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> successType</span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token parameter">error</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">dispatch</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token known-class-name class-name">Object</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">assign</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> payload</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> error</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> type</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> failureType</span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span>After
      passing it once to
      <a href="../api/applymiddleware.html"
        ><code>applyMiddleware(...middlewares)</code></a
      >, you can write all your API-calling action creators the same way:
    </p>
    <p>
      <span class="token keyword module" style="color: #f92672">export</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">loadPosts</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">userId</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> types</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">[</span
      ><span class="token string" style="color: #a6e22e"
        >‘LOAD_POSTS_REQUEST’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e"
        >‘LOAD_POSTS_SUCCESS’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e"
        >‘LOAD_POSTS_FAILURE’</span
      ><span class="token punctuation" style="color: #f8f8f2">]</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token function-variable function" style="color: #e6d874"
        >shouldCallAPI</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token parameter">state</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">!</span
      ><span class="token plain">state</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">posts</span
      ><span class="token punctuation" style="color: #f8f8f2">[</span
      ><span class="token plain">userId</span
      ><span class="token punctuation" style="color: #f8f8f2">]</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token function-variable function" style="color: #e6d874"
        >callAPI</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">fetch</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span
        class="token template-string template-punctuation string"
        style="color: #a6e22e"
        >`</span
      ><span class="token template-string string" style="color: #a6e22e"
        >http://myapi.com/users/</span
      ><span
        class="
          token
          template-string
          interpolation interpolation-punctuation
          punctuation
        "
        style="color: #f8f8f2"
        >${</span
      ><span class="token template-string interpolation">userId</span
      ><span
        class="
          token
          template-string
          interpolation interpolation-punctuation
          punctuation
        "
        style="color: #f8f8f2"
        >}</span
      ><span class="token template-string string" style="color: #a6e22e"
        >/posts</span
      ><span
        class="token template-string template-punctuation string"
        style="color: #a6e22e"
        >`</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> payload</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"> userId </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword module" style="color: #f92672">export</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">loadComments</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">postId</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> types</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">[</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e"
        >‘LOAD_COMMENTS_REQUEST’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e"
        >‘LOAD_COMMENTS_SUCCESS’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e"
        >‘LOAD_COMMENTS_FAILURE’</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">]</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token function-variable function" style="color: #e6d874"
        >shouldCallAPI</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token parameter">state</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">!</span
      ><span class="token plain">state</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">comments</span
      ><span class="token punctuation" style="color: #f8f8f2">[</span
      ><span class="token plain">postId</span
      ><span class="token punctuation" style="color: #f8f8f2">]</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token function-variable function" style="color: #e6d874"
        >callAPI</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">fetch</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span
        class="token template-string template-punctuation string"
        style="color: #a6e22e"
        >`</span
      ><span class="token template-string string" style="color: #a6e22e"
        >http://myapi.com/posts/</span
      ><span
        class="
          token
          template-string
          interpolation interpolation-punctuation
          punctuation
        "
        style="color: #f8f8f2"
        >${</span
      ><span class="token template-string interpolation">postId</span
      ><span
        class="
          token
          template-string
          interpolation interpolation-punctuation
          punctuation
        "
        style="color: #f8f8f2"
        >}</span
      ><span class="token template-string string" style="color: #a6e22e"
        >/comments</span
      ><span
        class="token template-string template-punctuation string"
        style="color: #a6e22e"
        >`</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> payload</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"> postId </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword module" style="color: #f92672">export</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">addComment</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">postId</span
      ><span class="token parameter punctuation" style="color: #f8f8f2">,</span
      ><span class="token parameter"> message</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> types</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">[</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e"
        >‘ADD_COMMENT_REQUEST’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e"
        >‘ADD_COMMENT_SUCCESS’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e"
        >‘ADD_COMMENT_FAILURE’</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">]</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token function-variable function" style="color: #e6d874"
        >callAPI</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">fetch</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span
        class="token template-string template-punctuation string"
        style="color: #a6e22e"
        >`</span
      ><span class="token template-string string" style="color: #a6e22e"
        >http://myapi.com/posts/</span
      ><span
        class="
          token
          template-string
          interpolation interpolation-punctuation
          punctuation
        "
        style="color: #f8f8f2"
        >${</span
      ><span class="token template-string interpolation">postId</span
      ><span
        class="
          token
          template-string
          interpolation interpolation-punctuation
          punctuation
        "
        style="color: #f8f8f2"
        >}</span
      ><span class="token template-string string" style="color: #a6e22e"
        >/comments</span
      ><span
        class="token template-string template-punctuation string"
        style="color: #a6e22e"
        >`</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> method</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘post’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> headers</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token maybe-class-name">Accept</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e"
        >‘application/json’</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e">‘Content-Type’</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token string" style="color: #a6e22e"
        >‘application/json’</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> body</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token known-class-name class-name">JSON</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">stringify</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"> message </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> payload</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"> postId</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> message </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span>##
      <span id="reducers" class="anchor enhancedAnchor_2LWZ"></span>Reducers<a
        href="#reducers"
        class="hash-link"
        title="Direct link to heading"
        >#</a
      >
    </p>
    <p>
      Redux reduces the boilerplate of Flux stores considerably by describing
      the update logic as a function. A function is simpler than an object, and
      much simpler than a class.
    </p>
    <p>Consider this Flux store:</p>
    <p>
      <span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> _todos </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">[</span
      ><span class="token punctuation" style="color: #f8f8f2">]</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> </span
      ><span class="token maybe-class-name">TodoStore</span
      ><span class="token plain"> </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> </span
      ><span class="token known-class-name class-name">Object</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">assign</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> </span
      ><span class="token class-name">EventEmitter</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">prototype</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">getAll</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> _todos</span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"></span
      ><span class="token maybe-class-name">AppDispatcher</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">register</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">action</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >switch</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain">action</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">type</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">case</span
      ><span class="token plain"> </span
      ><span class="token maybe-class-name">ActionTypes</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token constant" style="color: #f92672">ADD_TODO</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> text </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> action</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">text</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">trim</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> _todos</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">push</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain">text</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token maybe-class-name">TodoStore</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">emitChange</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p><span class="token plain" style="display: inline-block"> </span></p>
    <p>
      <span class="token plain"></span
      ><span class="token keyword module" style="color: #f92672">export</span
      ><span class="token plain"> </span
      ><span class="token keyword module" style="color: #f92672">default</span
      ><span class="token plain"> </span
      ><span class="token maybe-class-name">TodoStore</span>With Redux, the same
      update logic can be described as a reducing function:
    </p>
    <p>
      <span class="token keyword module" style="color: #f92672">export</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">todos</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">state </span
      ><span class="token parameter operator" style="color: #f8f8f2">=</span
      ><span class="token parameter"> </span
      ><span class="token parameter punctuation" style="color: #f8f8f2">[</span
      ><span class="token parameter punctuation" style="color: #f8f8f2">]</span
      ><span class="token parameter punctuation" style="color: #f8f8f2">,</span
      ><span class="token parameter"> action</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >switch</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain">action</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">type</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">case</span
      ><span class="token plain"> </span
      ><span class="token maybe-class-name">ActionTypes</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token constant" style="color: #f92672">ADD_TODO</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> text </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> action</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">text</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">trim</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">[</span
      ><span class="token spread operator" style="color: #f8f8f2">…</span
      ><span class="token plain">state</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> text</span
      ><span class="token punctuation" style="color: #f8f8f2">]</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword module" style="color: #f92672">default</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> state</span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span>The
      <code>switch</code> statement is <em>not</em> the real boilerplate. The
      real boilerplate of Flux is conceptual: the need to emit an update, the
      need to register the Store with a Dispatcher, the need for the Store to be
      an object (and the complications that arise when you want a universal
      app).
    </p>
    <p>
      It’s unfortunate that many still choose Flux framework based on whether it
      uses <code>switch</code> statements in the documentation. If you don’t
      like <code>switch</code>, you can solve this with a single function, as we
      show below.
    </p>
    <h3 id="generating-reducers">
      <span id="generating-reducers" class="anchor enhancedAnchor_2LWZ"></span
      >Generating Reducers<a
        href="#generating-reducers"
        class="hash-link"
        title="Direct link to heading"
        >#</a
      >
    </h3>
    <p>
      Let’s write a function that lets us express reducers as an object mapping
      from action types to handlers. For example, if we want our
      <code>todos</code> reducers to be defined like this:
    </p>
    <p>
      <span class="token keyword module" style="color: #f92672">export</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> todos </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">createReducer</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">[</span
      ><span class="token punctuation" style="color: #f8f8f2">]</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">[</span
      ><span class="token maybe-class-name">ActionTypes</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token constant" style="color: #f92672">ADD_TODO</span
      ><span class="token punctuation" style="color: #f8f8f2">]</span
      ><span class="token operator" style="color: #f8f8f2">:</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">state</span
      ><span class="token parameter punctuation" style="color: #f8f8f2">,</span
      ><span class="token parameter"> action</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token arrow operator" style="color: #f8f8f2">=&gt;</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">const</span
      ><span class="token plain"> text </span
      ><span class="token operator" style="color: #f8f8f2">=</span
      ><span class="token plain"> action</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">text</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">trim</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">[</span
      ><span class="token spread operator" style="color: #f8f8f2">…</span
      ><span class="token plain">state</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> text</span
      ><span class="token punctuation" style="color: #f8f8f2">]</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span>We can
      write the following helper to accomplish this:
    </p>
    <p>
      <span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">createReducer</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">initialState</span
      ><span class="token parameter punctuation" style="color: #f8f8f2">,</span
      ><span class="token parameter"> handlers</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> </span
      ><span class="token keyword" style="color: #f92672">function</span
      ><span class="token plain"> </span
      ><span class="token function" style="color: #e6d874">reducer</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token parameter">state </span
      ><span class="token parameter operator" style="color: #f8f8f2">=</span
      ><span class="token parameter"> initialState</span
      ><span class="token parameter punctuation" style="color: #f8f8f2">,</span
      ><span class="token parameter"> action</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672">if</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain">handlers</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span style="color: #e6d874">hasOwnProperty</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain">action</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">type</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> handlers</span
      ><span class="token punctuation" style="color: #f8f8f2">[</span
      ><span class="token plain">action</span
      ><span class="token punctuation" style="color: #f8f8f2">.</span
      ><span class="token property-access">type</span
      ><span class="token punctuation" style="color: #f8f8f2">]</span
      ><span class="token punctuation" style="color: #f8f8f2">(</span
      ><span class="token plain">state</span
      ><span class="token punctuation" style="color: #f8f8f2">,</span
      ><span class="token plain"> action</span
      ><span class="token punctuation" style="color: #f8f8f2">)</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >else</span
      ><span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">{</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token keyword control-flow" style="color: #f92672"
        >return</span
      ><span class="token plain"> state</span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"> </span
      ><span class="token punctuation" style="color: #f8f8f2">}</span
      ><span class="token plain"></span>
    </p>
    <p>
      <span class="token plain"></span
      ><span class="token punctuation" style="color: #f8f8f2">}</span>This
      wasn’t difficult, was it? Redux doesn’t provide such a helper function by
      default because there are many ways to write it. Maybe you want it to
      automatically convert plain JS objects to Immutable objects to hydrate the
      server state. Maybe you want to merge the returned state with the current
      state. There may be different approaches to a “catch all” handler. All of
      this depends on the conventions you choose for your team on a specific
      project.
    </p>
    <p>
      The Redux reducer API is <code>(state, action) =&gt; newState</code>, but
      how you create those reducers is up to you.
    </p>
    <p>
      <a
        href="using-object-spread-operator.html"
        class="pagination-nav__link"
      ></a>
    </p>
    <p>« Using Object Spread Operator</p>
    <p><a href="server-rendering.html" class="pagination-nav__link"></a></p>
    <p>Next</p>
    <p>Server Rendering »</p>
    <ul>
      <li><a href="#actions" class="table-of-contents__link">Actions</a></li>
      <li>
        <a href="#action-creators" class="table-of-contents__link"
          >Action Creators</a
        >
        <ul>
          <li>
            <a
              href="#generating-action-creators"
              class="table-of-contents__link"
              >Generating Action Creators</a
            >
          </li>
        </ul>
      </li>
      <li>
        <a href="#async-action-creators" class="table-of-contents__link"
          >Async Action Creators</a
        >
      </li>
      <li>
        <a href="#reducers" class="table-of-contents__link">Reducers</a>
        <ul>
          <li>
            <a href="#generating-reducers" class="table-of-contents__link"
              >Generating Reducers</a
            >
          </li>
        </ul>
      </li>
    </ul>
    <h4 id="docs">Docs</h4>
    <ul>
      <li>
        <a href="../introduction/getting-started.html" class="footer__link-item"
          >Getting Started</a
        >
      </li>
      <li>
        <a
          href="../tutorials/essentials/part-1-overview-concepts.html"
          class="footer__link-item"
          >Tutorial</a
        >
      </li>
      <li><a href="../faq.html" class="footer__link-item">FAQ</a></li>
      <li>
        <a href="../api/api-reference.html" class="footer__link-item"
          >API Reference</a
        >
      </li>
    </ul>
    <h4 id="community">Community</h4>
    <ul>
      <li>
        <a
          href="../official/discord.com/invite/0ZcbPKXt5bZ6au5t.html"
          class="footer__link-item"
          >Reactiflux Discord</a
        >
      </li>
      <li>
        <a
          href="../official/stackoverflow.com/questions/tagged/redux.html"
          class="footer__link-item"
          >Stack Overflow</a
        >
      </li>
      <li>
        <a
          href="../introduction/getting-started.html#help-and-discussion"
          class="footer__link-item"
          >Feedback</a
        >
      </li>
    </ul>
    <h4 id="more">More</h4>
    <ul>
      <li>
        <a
          href="../official/github.com/reduxjs/redux.html"
          class="footer__link-item"
          >GitHub</a
        >
      </li>
      <li>
        <a href="../../www.netlify.com/index.html"
          ><img
            src="../../www.netlify.com/img/global/badges/netlify-color-accent.svg"
            alt="Deploys by Netlify"
        /></a>
      </li>
    </ul>
    <p>
      <a href="../index.html" class="footerLogoLink_MyFc"
        ><img
          src="../official/d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg"
          alt="Redux Logo"
          class="themedImage_1VuW themedImage--light_3UqQ footer__logo" /><img
          src="../official/d33wubrfki0l68.cloudfront.net/0834d0215db51e91525a25acf97433051f280f2f/c30f5/img/redux.svg"
          alt="Redux Logo"
          class="themedImage_1VuW themedImage--dark_hz6m footer__logo"
      /></a>
    </p>
  </body>
</html>
